(self.webpackChunk_angular_extensions_elements=self.webpackChunk_angular_extensions_elements||[]).push([[309],{9309:(e,n,t)=>{"use strict";t.r(n),t.d(n,{DynamicModule:()=>N});var i=t(9015),o=t(1041),a=t(1737),c=t(2309),l=t(3337),r=t(5366),m=t(1116),s=t(4369),u=t(7307),d=t(3589);const g="@angular-extensions/elements";let p=(()=>{class e{constructor(e,n,t,i,o,a,c){this.document=e,this.renderer=n,this.vcr=t,this.cfr=i,this.cdr=o,this.template=a,this.elementsLoaderService=c,this.viewRef=null}ngOnInit(){if(!this.tag||0===this.tag.length||!this.tag.includes("-"))throw new Error(`${g} - Valid tag has to be specified when using *axLazyElementDynamic directive (use *axLazyElementDynamic="'some-tag'"), got: "${this.tag}"`);const e=this.elementsLoaderService.getElementConfig(this.tag)||{},n=this.elementsLoaderService.options,t=e.loadingComponent||n.loadingComponent;if(this.loadingTemplateRef)this.vcr.createEmbeddedView(this.loadingTemplateRef);else if(t){const e=this.cfr.resolveComponentFactory(t);this.vcr.createComponent(e)}this.elementsLoaderService.loadElement(this.url,this.tag,this.isModule,this.importMap,null==e?void 0:e.hooks).then(()=>customElements.whenDefined(this.tag)).then(()=>{this.vcr.clear();const e=this.renderer.createElement;this.renderer.createElement=(e,n)=>("ax-lazy-element"===e&&(e=this.tag),this.document.createElement(e)),this.viewRef=this.vcr.createEmbeddedView(this.template),this.renderer.createElement=e,this.cdr.markForCheck()}).catch(t=>{const i=e.errorComponent||n.errorComponent;if(this.vcr.clear(),this.errorTemplateRef)this.vcr.createEmbeddedView(this.errorTemplateRef),this.cdr.markForCheck();else if(i){const e=this.cfr.resolveComponentFactory(i);this.vcr.createComponent(e),this.cdr.markForCheck()}else console.error(`${g} - Loading of element <${this.tag}> failed, please provide <ng-template #error>Loading failed...</ng-template> and reference it in *axLazyElementDynamic="errorTemplate: error" to display customized error message in place of element\n\n`,t)})}destroyEmbeddedView(){this.viewRef&&!this.viewRef.destroyed&&(this.viewRef.detach(),this.viewRef.destroy(),this.viewRef=null)}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(m.K0),r.Y36(r.Qsj),r.Y36(r.s_b),r.Y36(r._Vd),r.Y36(r.sBO),r.Y36(r.Rgc),r.Y36(d.$))},e.\u0275dir=r.lG2({type:e,selectors:[["","axLazyElementDynamic",""]],inputs:{tag:["axLazyElementDynamic","tag"],url:["axLazyElementDynamicUrl","url"],loadingTemplateRef:["axLazyElementDynamicLoadingTemplate","loadingTemplateRef"],errorTemplateRef:["axLazyElementDynamicErrorTemplate","errorTemplateRef"],isModule:["axLazyElementDynamicModule","isModule"],importMap:["axLazyElementDynamicImportMap","importMap"]}}),e})();var h=t(9572);function y(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().example1=!0}),r.TgZ(2,"mat-icon"),r._uU(3,"play_arrow"),r.qZA(),r._uU(4," Run "),r.qZA(),r.qZA()}}function f(e,n){1&e&&r._uU(0,"Loading...")}function x(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"ax-lazy-element",18),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).increment1()}),r._uU(1," Increment "),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("outlined",e.buttonTypeIsOutlined)("raised",!e.buttonTypeIsOutlined)}}function _(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.YNc(1,f,1,0,"ng-template",null,14,r.W1O),r.YNc(3,x,2,2,"ax-lazy-element",15),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.TgZ(6,"div",16),r.TgZ(7,"span"),r._uU(8,"Raised button"),r.qZA(),r.TgZ(9,"mat-slide-toggle",17),r.NdJ("ngModelChange",function(n){return r.CHM(e),r.oxw().buttonTypeIsOutlined=n}),r.qZA(),r.TgZ(10,"span"),r._uU(11,"Outline button"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(2),n=r.oxw();r.xp6(3),r.Q6J("axLazyElementDynamic","mwc-button")("axLazyElementDynamicUrl","https://unpkg.com/@material/mwc-button@0.18.0/mwc-button.js?module")("axLazyElementDynamicLoadingTemplate",e)("axLazyElementDynamicModule",!0),r.xp6(2),r.hij("Counter: ",n.counter1,""),r.xp6(4),r.Q6J("ngModel",n.buttonTypeIsOutlined)}}function Z(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().example2=!0}),r.TgZ(2,"mat-icon"),r._uU(3,"play_arrow"),r.qZA(),r._uU(4," Run "),r.qZA(),r.qZA()}}function w(e,n){1&e&&r._uU(0,"Loading...")}function M(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"ax-lazy-element",20),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).increment2()}),r._uU(1," Increment "),r.qZA()}}function C(e,n){if(1&e&&(r.TgZ(0,"div",12),r.YNc(1,w,1,0,"ng-template",null,14,r.W1O),r.YNc(3,M,2,0,"ax-lazy-element",19),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.MAs(2),n=r.oxw();r.xp6(3),r.Q6J("axLazyElementDynamic","wired-button")("axLazyElementDynamicLoadingTemplate",e),r.xp6(2),r.hij("Counter: ",n.counter2,"")}}function T(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().example3=!0}),r.TgZ(2,"mat-icon"),r._uU(3,"play_arrow"),r.qZA(),r._uU(4," Run "),r.qZA(),r.qZA()}}function v(e,n){if(1&e&&r._uU(0),2&e){const e=r.oxw().$implicit;r.hij("Loading <",e.tag,">...\xa0\xa0")}}function O(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"ax-lazy-element",24),r.NdJ("click",function(){r.CHM(e);const n=r.oxw().$implicit;return r.oxw(2).performAction(n.actionName)}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.content," ")}}function E(e,n){if(1&e&&(r.ynx(0),r.YNc(1,v,1,1,"ng-template",null,14,r.W1O),r.YNc(3,O,2,1,"ax-lazy-element",23),r.BQk()),2&e){const e=n.$implicit,t=r.MAs(2);r.xp6(3),r.Q6J("axLazyElementDynamic",e.tag)("axLazyElementDynamicUrl",e.url)("axLazyElementDynamicModule",e.isModule)("axLazyElementDynamicLoadingTemplate",t)}}function A(e,n){if(1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"div",21),r.YNc(2,E,4,4,"ng-container",22),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Q6J("ngForOf",e.dynamicConfigs),r.xp6(2),r.hij("Counter: ",e.counter3,"")}}let q=(()=>{class e{constructor(){this.example1=!1,this.example2=!1,this.example3=!1,this.codeExample1=b,this.codeExample2module=L,this.codeExample2html=U,this.codeExample3html=z,this.buttonTypeIsOutlined=!0,this.counter1=0,this.counter2=0,this.counter3=0,this.dynamicConfigs=[{tag:"mwc-button",url:"https://unpkg.com/@material/mwc-button@0.18.0/mwc-button.js?module",isModule:!0,content:"Increment",actionName:"increment"},{tag:"wired-button",url:"https://unpkg.com/wired-elements@1.0.0/dist/wired-elements.bundled.js",content:"Decrement",actionName:"decrement"},{tag:"mwc-icon",url:"https://unpkg.com/@material/mwc-icon@0.18.0/mwc-icon.js?module",content:"replay",actionName:"reset"}]}ngOnInit(){}increment1(){this.counter1++}increment2(){this.counter2++}performAction(e){"increment"===e&&this.counter3++,"decrement"===e&&this.counter3--,"reset"===e&&(this.counter3=0)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["demo-dynamic"]],decls:87,vars:10,consts:[[1,"quick-nav"],["routerLink",".","fragment","dynamic-element-tag"],["routerLink",".","fragment","module-pre-configuration"],["routerLink",".","fragment","multiple-different-dynamic-elements"],[1,"wrapper"],["id","dynamic-element-tag"],[1,"content"],["class","implementation",4,"ngIf"],[1,"description"],[3,"highlight"],["id","module-pre-configuration"],["id","multiple-different-dynamic-elements"],[1,"implementation"],["mat-flat-button","","color","accent",3,"click"],["loading",""],[3,"outlined","raised","click",4,"axLazyElementDynamic","axLazyElementDynamicUrl","axLazyElementDynamicLoadingTemplate","axLazyElementDynamicModule"],[1,"controls"],[3,"ngModel","ngModelChange"],[3,"outlined","raised","click"],[3,"click",4,"axLazyElementDynamic","axLazyElementDynamicLoadingTemplate"],[3,"click"],[1,"actions"],[4,"ngFor","ngForOf"],["raised","",3,"click",4,"axLazyElementDynamic","axLazyElementDynamicUrl","axLazyElementDynamicModule","axLazyElementDynamicLoadingTemplate"],["raised","",3,"click"]],template:function(e,n){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h3"),r._uU(2,"Quick navigation"),r.qZA(),r.TgZ(3,"ul"),r.TgZ(4,"li"),r.TgZ(5,"a",1),r._uU(6,"Dynamic element tag"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r.TgZ(8,"a",2),r._uU(9,"Dynamic element tag with module pre-configuration"),r.qZA(),r.qZA(),r.TgZ(10,"li"),r.TgZ(11,"a",3),r._uU(12,"Multiple different dynamic elements"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",4),r.TgZ(14,"h1"),r._uU(15,"Dynamic"),r.qZA(),r.TgZ(16,"p"),r._uU(17," These example explain how to configure element tag dynamically using "),r.TgZ(18,"code"),r._uU(19,"*axLazyElementDynamic"),r.qZA(),r._uU(20," directive. This can be very useful if we want to retrieve element configuration from somewhere else (for example a backend or a json config file). Such a setup can enable us to develop fully dynamic and configurable microfrontend applications! "),r.qZA(),r.TgZ(21,"h2",5),r._uU(22,"Dynamic element tag"),r.qZA(),r.TgZ(23,"div",6),r.YNc(24,y,5,0,"div",7),r.YNc(25,_,12,6,"div",7),r.TgZ(26,"div",8),r.TgZ(27,"p"),r._uU(28," In this example we're loading "),r.TgZ(29,"code"),r._uU(30,"<mwc-button>"),r.qZA(),r._uU(31," using the "),r.TgZ(32,"code"),r._uU(33,"*axLazyElementDynamic"),r.qZA(),r._uU(34," directive. Please notice that the original HTML element used in the template is "),r.TgZ(35,"code"),r._uU(36,"<ax-lazy-element>"),r.qZA(),r._uU(37," and we're specifying the desired tag as the first parameter of "),r.TgZ(38,"code"),r._uU(39,"*axLazyElementDynamic='mwc-button'"),r.qZA(),r._uU(40,". Please, feel free to open your browsers dev tools to check resulting element tag! "),r.qZA(),r._UZ(41,"pre",9),r.TgZ(42,"p"),r._uU(43," You might be asking why do we use "),r.TgZ(44,"code"),r._uU(45,"<ax-lazy-element>"),r.qZA(),r._uU(46,". This is not a real custom element and that's exactly the point. We can provide any valid and unused custom element name. That way Angular won't complain if we use custom property and event binding which would be the case if we tried to bind "),r.TgZ(47,"code"),r._uU(48,'<div [custom]="value">'),r.qZA(),r._uU(49,"... "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"h2",10),r._uU(51," Dynamic element tag with module pre-configuration "),r.qZA(),r.TgZ(52,"div",6),r.YNc(53,Z,5,0,"div",7),r.YNc(54,C,6,3,"div",7),r.TgZ(55,"div",8),r.TgZ(56,"p"),r._uU(57," The "),r.TgZ(58,"code"),r._uU(59,"*axLazyElementDynamic"),r.qZA(),r._uU(60," directive works also with the pre-configured "),r.TgZ(61,"code"),r._uU(62,"LazyElementsModule"),r.qZA(),r._uU(63,". That way we don't have to specify url of the element in the template. Please notice that the original HTML element used in the template is "),r.TgZ(64,"code"),r._uU(65,"<div>"),r.qZA(),r._uU(66," and we're specifying the desired tag as the first parameter of "),r.TgZ(67,"code"),r._uU(68,"*axLazyElementDynamic='wired-button'"),r.qZA(),r._uU(69,". Please, feel free to open your browsers dev tools to check resulting element tag! "),r.qZA(),r._UZ(70,"pre",9),r._UZ(71,"pre",9),r.qZA(),r.qZA(),r.TgZ(72,"h2",11),r._uU(73," Multiple different dynamic elements "),r.qZA(),r.TgZ(74,"div",6),r.YNc(75,T,5,0,"div",7),r.YNc(76,A,5,2,"div",7),r.TgZ(77,"div",8),r.TgZ(78,"p"),r._uU(79," The "),r.TgZ(80,"code"),r._uU(81,"*axLazyElementDynamic"),r.qZA(),r._uU(82," directive works also with "),r.TgZ(83,"code"),r._uU(84,"*ngFor"),r.qZA(),r._uU(85," directive to render fully dynamic configuration which could have been retrieved from backend during the runtime in comparison to hard-coded into the template during build time! Please, feel free to open your browsers dev tools to check resulting element tags! "),r.qZA(),r._UZ(86,"pre",9),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(24),r.Q6J("ngIf",!n.example1),r.xp6(1),r.Q6J("ngIf",n.example1),r.xp6(16),r.Q6J("highlight",n.codeExample1),r.xp6(12),r.Q6J("ngIf",!n.example2),r.xp6(1),r.Q6J("ngIf",n.example2),r.xp6(16),r.Q6J("highlight",n.codeExample2html),r.xp6(1),r.Q6J("highlight",n.codeExample2module),r.xp6(4),r.Q6J("ngIf",!n.example3),r.xp6(1),r.Q6J("ngIf",n.example3),r.xp6(10),r.Q6J("highlight",n.codeExample3html))},directives:[l.yS,m.O5,i.y$,s.lW,u.Hw,p,h.Rr,o.JJ,o.On,m.sg],styles:["[_nghost-%COMP%]{position:relative}.quick-nav[_ngcontent-%COMP%]{display:none;position:fixed;top:105px;left:75%;right:0;padding:0 20px}.quick-nav[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;opacity:.5}.quick-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.quick-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.quick-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .quick-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d32f2f}.wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:0 0 50px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .implementation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;margin:0 20px 20px 0;border:2px solid #eee;padding:20px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .implementation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .implementation[_ngcontent-%COMP%]   wired-button[_ngcontent-%COMP%]{padding:10px 15px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .implementation[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .implementation[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex:1.5}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:20px}.responsive-large[_nghost-%COMP%]   .quick-nav[_ngcontent-%COMP%], .responsive-large   [_nghost-%COMP%]   .quick-nav[_ngcontent-%COMP%]{display:block}.responsive-large[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%], .responsive-large   [_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:60%}"]}),e})();const b='\x3c!-- url = \'https://unpkg.com/@material/mwc-button@0.18.0/mwc-button.js?module\' --\x3e;\n<ax-lazy-element *axLazyElementDynamic="\'mwc-button\', url: url; module: true"\n     [outlined]="true"\n     (click)="increment()">\n  Increment\n</ax-lazy-element>\n\n\x3c!-- will be rendered as ...\n  <mwc-button outlined (click)="increment()">Increment</mwc-button>\n--\x3e',U='<ax-lazy-element *axLazyElementDynamic="\'wired-button\'" (click)="increment()">\n  Increment\n</ax-lazy-element>\n\n\x3c!-- will be rendered as ...\n  <wired-button (click)="increment()">Increment</wired-button>\n--\x3e',L="// pre-configured LazyElementsModule\nconst options: LazyElementModuleOptions = {\n  elementConfigs: [\n    { tag: 'wired-button', url: 'https://unpkg.com/wired-elements@1.0.0/dist/wired-elements.bundled.js' }\n  ]\n};\n\n@NgModule({\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  declarations: [FeatureComponent],\n  imports: [\n    LazyElementsModule.forFeature(options),\n  ]\n})\nexport class FeatureModule {}",z="<ng-container *ngFor=\"let c of dynamicConfigs\">\n  <ax-lazy-element\n    *axLazyElementDynamic=\"c.tag; url: c.url; module: c.isModule\"\n    (click)=\"performAction(c.actionName)\"\n    raised\n  >\n    {{ c.content }}\n  </ax-lazy-element>\n</ng-container>\n\n\x3c!--\ndynamicConfigs = [\n  {\n    tag: 'mwc-button',\n    url: 'https://unpkg.com/@material/mwc-button@0.18.0/mwc-button.js?module',\n    isModule: true,\n    content: 'Increment',\n    actionName: 'increment'\n  },\n  {\n    tag: 'wired-button',\n    url: 'https://unpkg.com/wired-elements@1.0.0/dist/wired-elements.bundled.js',\n    content: 'Decrement',\n    actionName: 'decrement'\n  },\n  {\n    tag: 'mwc-icon',\n    url: 'https://unpkg.com/@material/mwc-icon@0.18.0/mwc-icon.js?module',\n    content: 'replay',\n    actionName: 'reset'\n  }\n];\n--\x3e\n",P=[{path:"",component:q}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[l.Bz.forChild(P)],l.Bz]}),e})();const D={elementConfigs:[{tag:"wired-button",url:"https://unpkg.com/wired-elements@1.0.0/dist/wired-elements.bundled.js"}]};let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i._l,o.u5,a.z.forFeature(D),c.m,k]]}),e})()}}]);